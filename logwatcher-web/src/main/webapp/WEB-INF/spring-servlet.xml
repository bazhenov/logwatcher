<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
			 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			 xmlns:mvc="http://www.springframework.org/schema/mvc"
			 xmlns:p="http://www.springframework.org/schema/p"
			 xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
			 http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd">

	<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="locations">
			<list>
				<value>classpath:default.properties</value>
				<value>${resourcesFile}</value>
			</list>
		</property>
	</bean>

	<mvc:annotation-driven/>
	<mvc:interceptors>
		<bean class="com.farpost.logwatcher.web.AutowireModeAttributesHandlerInterceptor"/>
	</mvc:interceptors>

	<import resource="controllers.xml"/>

	<bean class="org.springframework.web.servlet.view.UrlBasedViewResolver"
				p:order="2"
				p:viewClass="org.springframework.web.servlet.view.JstlView"
				p:prefix="/WEB-INF/jsp/"
				p:suffix=".jspx"/>

	<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"
				p:order="1"
				p:suffix=".vm"
				p:prefix="/WEB-INF/velocity/">
		<property name="viewNames">
			<list>
				<value>application</value>
				<value>entries</value>
				<value>dashboard</value>
				<value>search-page</value>
				<value>system/generate-message</value>
				<value>feed/inner-feed</value>
			</list>
		</property>
	</bean>
</beans>
